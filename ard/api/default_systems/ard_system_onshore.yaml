type: group
connections:
  - ["AEP_farm", "financese.plant_aep_in"]
  - ["total_capex_kW", "financese.bos_per_kW"]
systems:
  layout2aep:
    type: group
    promotes: ["*"]
    systems:
      layout:
        type: component
        module: ard.layout.gridfarm
        object: GridFarmLayout
        promotes: ["*"]
        kwargs:
          modeling_options:
      aepFLORIS:
        type: component
        module: ard.farm_aero.floris
        object: FLORISAEP
        promotes: ["x_turbines", "y_turbines", "AEP_farm"]
        kwargs:
          modeling_options:
          data_path:
          case_title: "default"
    approx_totals:
      method: "fd"
      step: 1.0E-3
      form: "central"
      step_calc: "rel_avg"
  landuse:
    type: component
    module: ard.layout.gridfarm
    object: GridFarmLanduse
    promotes: ["*"]
    kwargs:
      modeling_options:
  optiwindnet_coll:
    type: component
    module: ard.collection.optiwindnet_wrap
    object: optiwindnetCollection
    promotes: ["*"]
    kwargs:
      modeling_options:
  spacing_constraint:
    type: component
    module: ard.layout.spacing
    object: TurbineSpacing
    promotes: ["*"]
    kwargs:
      modeling_options:
  tcc:
    type: component
    module: ard.cost.wisdem_wrap
    object: TurbineCapitalCosts
    promotes: [
      "turbine_number",
      "machine_rating",
      "tcc_per_kW",
      "offset_tcc_per_kW",
    ]
  landbosse:
    type: component
    module: ard.cost.wisdem_wrap
    object: LandBOSSEWithSpacingApproximations
    promotes: ["*"]
    kwargs:
      modeling_options:
  opex:
    type: component
    module: ard.cost.wisdem_wrap
    object: OperatingExpenses
    promotes: [
      "turbine_number",
      "machine_rating",
      "opex_per_kW"
    ]
  financese:
    type: component
    module: ard.cost.wisdem_wrap
    object: PlantFinance
    promotes: [
      "turbine_number",
      "machine_rating",
      "tcc_per_kW",
      "offset_tcc_per_kW",
      "opex_per_kW",
    ]
